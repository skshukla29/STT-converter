{"ast":null,"code":"import React,{useState}from'react';import axios from'axios';import'./App.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[file,setFile]=useState(null);const[transcription,setTranscription]=useState('');const[loading,setLoading]=useState(false);const[error,setError]=useState('');const handleFileChange=e=>{setFile(e.target.files[0]);setError('');setTranscription('');};const handleUpload=async()=>{if(!file){setError('Please select a file first.');return;}const formData=new FormData();formData.append('audio',file);setLoading(true);setError('');setTranscription('');try{const response=await axios.post('http://localhost:5000/api/transcribe',formData,{headers:{'Content-Type':'multipart/form-data'}});setTranscription(response.data.text);}catch(err){var _err$response,_err$response$data,_err$response2,_err$response2$data;console.error(err);const errorMessage=((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.details)||((_err$response2=err.response)===null||_err$response2===void 0?void 0:(_err$response2$data=_err$response2.data)===null||_err$response2$data===void 0?void 0:_err$response2$data.error)||err.message||'An error occurred during transcription.';setError(errorMessage);}finally{setLoading(false);}};const handleDownload=()=>{const element=document.createElement(\"a\");const file=new Blob([transcription],{type:'text/plain'});element.href=URL.createObjectURL(file);element.download=\"transcript.txt\";document.body.appendChild(element);// Required for this to work in FireFox\nelement.click();};return/*#__PURE__*/_jsx(\"div\",{className:\"app-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Speech to Text Converter\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"upload-section\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\"audio/*\",onChange:handleFileChange,className:\"file-input\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleUpload,disabled:loading||!file,className:\"primary-btn\",children:loading?'Processing...':'Transcribe Audio'})]}),loading&&/*#__PURE__*/_jsxs(\"div\",{className:\"loading-spinner\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"spinner\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Transcribing... This may take a moment.\"})]}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:error}),transcription&&/*#__PURE__*/_jsxs(\"div\",{className:\"result-section\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Transcription Result:\"}),/*#__PURE__*/_jsx(\"textarea\",{value:transcription,readOnly:true,className:\"transcription-text\",rows:10}),/*#__PURE__*/_jsx(\"button\",{onClick:handleDownload,className:\"secondary-btn\",children:\"Download as TXT\"})]})]})});}export default App;","map":{"version":3,"names":["React","useState","axios","jsx","_jsx","jsxs","_jsxs","App","file","setFile","transcription","setTranscription","loading","setLoading","error","setError","handleFileChange","e","target","files","handleUpload","formData","FormData","append","response","post","headers","data","text","err","_err$response","_err$response$data","_err$response2","_err$response2$data","console","errorMessage","details","message","handleDownload","element","document","createElement","Blob","type","href","URL","createObjectURL","download","body","appendChild","click","className","children","accept","onChange","onClick","disabled","value","readOnly","rows"],"sources":["D:/speech-to-text converter/frontend/src/App.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport axios from 'axios';\r\nimport './App.css';\r\n\r\nfunction App() {\r\n  const [file, setFile] = useState(null);\r\n  const [transcription, setTranscription] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState('');\r\n\r\n  const handleFileChange = (e) => {\r\n    setFile(e.target.files[0]);\r\n    setError('');\r\n    setTranscription('');\r\n  };\r\n\r\n  const handleUpload = async () => {\r\n    if (!file) {\r\n      setError('Please select a file first.');\r\n      return;\r\n    }\r\n\r\n    const formData = new FormData();\r\n    formData.append('audio', file);\r\n\r\n    setLoading(true);\r\n    setError('');\r\n    setTranscription('');\r\n\r\n    try {\r\n      const response = await axios.post('http://localhost:5000/api/transcribe', formData, {\r\n        headers: {\r\n          'Content-Type': 'multipart/form-data',\r\n        },\r\n      });\r\n      setTranscription(response.data.text);\r\n    } catch (err) {\r\n      console.error(err);\r\n      const errorMessage = err.response?.data?.details || err.response?.data?.error || err.message || 'An error occurred during transcription.';\r\n      setError(errorMessage);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleDownload = () => {\r\n    const element = document.createElement(\"a\");\r\n    const file = new Blob([transcription], {type: 'text/plain'});\r\n    element.href = URL.createObjectURL(file);\r\n    element.download = \"transcript.txt\";\r\n    document.body.appendChild(element); // Required for this to work in FireFox\r\n    element.click();\r\n  };\r\n\r\n  return (\r\n    <div className=\"app-container\">\r\n      <div className=\"card\">\r\n        <h1>Speech to Text Converter</h1>\r\n        \r\n        <div className=\"upload-section\">\r\n          <input type=\"file\" accept=\"audio/*\" onChange={handleFileChange} className=\"file-input\" />\r\n          <button onClick={handleUpload} disabled={loading || !file} className=\"primary-btn\">\r\n            {loading ? 'Processing...' : 'Transcribe Audio'}\r\n          </button>\r\n        </div>\r\n\r\n        {loading && (\r\n          <div className=\"loading-spinner\">\r\n            <div className=\"spinner\"></div>\r\n            <p>Transcribing... This may take a moment.</p>\r\n          </div>\r\n        )}\r\n\r\n        {error && <div className=\"error-message\">{error}</div>}\r\n\r\n        {transcription && (\r\n          <div className=\"result-section\">\r\n            <h2>Transcription Result:</h2>\r\n            <textarea \r\n              value={transcription} \r\n              readOnly \r\n              className=\"transcription-text\"\r\n              rows={10}\r\n            />\r\n            <button onClick={handleDownload} className=\"secondary-btn\">\r\n              Download as TXT\r\n            </button>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}